<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of atwritem</title>
  <meta name="keywords" content="atwritem">
  <meta name="description" content="ATWRITEM Creates a .m file to store an AT structure">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>

<!-- ../menu.html atmat --><!-- menu.html lattice --><h1>atwritem
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>ATWRITEM Creates a .m file to store an AT structure</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function atwritem(ring,filename) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment" style="background-image:url(../../atcollab.png)"><pre class="comment">ATWRITEM Creates a .m file to store an AT structure

  INPUTS
  1. ring    - Lattice structure (.mat file)
  2. filname - output file where to write the lattice as a line by line file using
  element constructors

  EXAMPLES
  1. atwritem(ring) % Prints the result in the command window
  2. atwritem(ring,filename) % Prints the result in a file

  See also <a href="at2str.html" class="code" title="function elstr=at2str(elem)">at2str</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment" style="background-image:url(../../atcollab.png)">
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="at2str.html" class="code" title="function elstr=at2str(elem)">at2str</a>	AT2STR Makes the string representation of an AT element</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
</div>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment" style="background-image:url(../../atcollab.png)"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function atwritem(ring,filename)</a>
0002 <span class="comment">%ATWRITEM Creates a .m file to store an AT structure</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%  INPUTS</span>
0005 <span class="comment">%  1. ring    - Lattice structure (.mat file)</span>
0006 <span class="comment">%  2. filname - output file where to write the lattice as a line by line file using</span>
0007 <span class="comment">%  element constructors</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%  EXAMPLES</span>
0010 <span class="comment">%  1. atwritem(ring) % Prints the result in the command window</span>
0011 <span class="comment">%  2. atwritem(ring,filename) % Prints the result in a file</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%  See also at2str</span>
0014 
0015 <span class="keyword">if</span> nargin&gt;=2
0016     <span class="comment">%get filename information</span>
0017     [pname,fname,ext]=fileparts(filename);
0018     
0019     <span class="comment">%Check file extension</span>
0020     <span class="keyword">if</span> isempty(ext), ext=<span class="string">'.m'</span>; <span class="keyword">end</span>
0021     
0022     <span class="comment">% Make fullname</span>
0023     fn=fullfile(pname,[fname ext]);
0024     
0025     <span class="comment">% Open file to be written</span>
0026     [fid,mess]=fopen(fullfile(pname,[fname ext]),<span class="string">'wt'</span>);
0027     
0028     <span class="keyword">if</span> fid==-1
0029         error(<span class="string">'AT:FileErr'</span>,<span class="string">'Cannot Create file %s\n%s'</span>,fn,mess);
0030     <span class="keyword">end</span>
0031     
0032     fprintf(fid,<span class="string">'function ring=%s()\n'</span>,fname);
0033 <span class="keyword">else</span>
0034     fid=1;
0035 <span class="keyword">end</span>
0036 
0037 fprintf(fid,<span class="string">'ring={...\n'</span>);
0038 ok=cellfun(@(elem) fprintf(fid,<span class="string">'%s;...\n'</span>,<a href="at2str.html" class="code" title="function elstr=at2str(elem)">at2str</a>(elem)),ring); <span class="comment">%#ok&lt;NASGU&gt;</span>
0039 fprintf(fid,<span class="string">'};\n'</span>);
0040 
0041 <span class="keyword">if</span> nargin&gt;=2
0042     <span class="comment">%close file</span>
0043     fprintf(fid,<span class="string">'end\n'</span>);
0044     fclose(fid);
0045 <span class="keyword">end</span>
0046 <span class="keyword">end</span>
0047</pre></div>
<hr>
<hr><address>GitHub Website <strong><a href="https://github.com/atcollab/at" target="_parent">at</a></strong> &copy; 2018</address>
<br />
<address>Generated on Sun 04-Mar-2018 00:43:10 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>